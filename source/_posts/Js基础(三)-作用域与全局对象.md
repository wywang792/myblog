---
title: Js基础(三)-作用域与全局对象
categories:
  - 前端开发
tags:
  - javascript
abbrlink: 9b62bc44
date: 2023-05-15 00:00:00
cover:
---

# 作用域

作用域是指一个变量或者一个函数所能够产生作用的范围

- 内部的作用域能访问外部，反之不行。访问时从内向外依次查找。
- 如果在内部的作用域中访问了外部，则会产生闭包。
- 内部作用域能访问的外部，取决于函数定义的位置，和调用无关

Js只有两种作用域：全局作用域和函数作用域

Js没有块级作用域，即if或者for的花括号内包裹的内容，并不是一种作用域

在ES6标准后，使用let和const在块级代码声明的变量只能作用于块级作用域，使用var在块级代码中声明的变量仍是全局作用域的

## 全局作用域

平时写的变量，没有用花括号包裹的，都是全局作用域的，写在函数花括号内的函数体是函数作用域的

## 函数作用域

作用域内使用var定义的变量、函数声明会提升到作用域顶部

# 全局对象

无论是浏览器环境，还是node环境，都会提供一个全局对象

- 浏览器环境：window
- node环境：global

全局对象有下面几个特点：

- 全局对象的属性可以被直接访问

- 给未声明的变量赋值，实际就是给全局对象的属性赋值

  > 永远别这么干

- 所有的全局变量、全局函数都会附加到全局对象

  > 这称之为全局污染，又称之为全局暴露，或简称污染、暴露
  >
  > 如果要避免污染，需要使用**立即执行函数**改变其作用域
  >
  > 立即执行函数又称之为IIFE，它的全称是Immediately Invoked Function Expression
  >
  > **IIFE通常用于强行改变作用域**